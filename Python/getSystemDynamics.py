import numpy as np

# This function was copied from its MATLAB counterpart.

def getSystemDynamics(I1,I2,I3,I4,I5,T1,T2,T3,T4,T5,ddq1,ddq2,ddq3,ddq4,ddq5,dq1,dq2,dq3,dq4,dq5,g,l1,l2,l4,lc1,lc2,lc3,lc4,lc5,m1,m2,m3,m4,m5,q1,q2,q3,q4,q5):

    t2 = np.sin(q1)
    t3 = np.sin(q2)
    t4 = np.sin(q3)
    t5 = np.sin(q4)
    t6 = np.sin(q5)
    t7 = I2*ddq2
    t8 = I3*ddq3
    t9 = I4*ddq4
    t10 = I5*ddq5
    t11 = dq1**2
    t12 = dq2**2
    t13 = dq3**2
    t14 = dq4**2
    t15 = dq5**2
    t16 = l1**2
    t17 = l2**2
    t18 = l4**2
    t19 = lc2**2
    t20 = lc3**2
    t21 = lc4**2
    t22 = lc5**2
    t23 = -q2
    t24 = -q3
    t25 = -q4
    t26 = -q5
    t27 = -t7
    t28 = -t8
    t29 = -t9
    t30 = -t10
    t31 = g*l2*m3*t3
    t32 = g*l2*m4*t3
    t33 = g*l2*m5*t3
    t34 = g*l4*m5*t5
    t35 = g*lc2*m2*t3
    t36 = g*lc3*m3*t4
    t37 = g*lc4*m4*t5
    t38 = g*lc5*m5*t6
    t39 = q1+t23
    t40 = q1+t24
    t41 = q1+t25
    t42 = q2+t24
    t43 = q1+t26
    t44 = q2+t25
    t45 = q2+t26
    t46 = q4+t26
    t47 = ddq2*m3*t17
    t48 = ddq2*m4*t17
    t49 = ddq2*m5*t17
    t50 = ddq4*m5*t18
    t51 = ddq2*m2*t19
    t52 = ddq3*m3*t20
    t53 = ddq4*m4*t21
    t54 = ddq5*m5*t22
    t55 = np.cos(t39)
    t56 = np.cos(t40)
    t57 = np.cos(t41)
    t58 = np.cos(t42)
    t59 = np.cos(t43)
    t60 = np.cos(t44)
    t61 = np.cos(t45)
    t62 = np.cos(t46)
    t63 = np.sin(t39)
    t64 = np.sin(t40)
    t65 = np.sin(t41)
    t66 = np.sin(t42)
    t67 = np.sin(t43)
    t68 = np.sin(t44)
    t69 = np.sin(t45)
    t70 = np.sin(t46)
    t71 = -t34
    t72 = -t37
    t73 = -t38
    t74 = -t47
    t75 = -t48
    t76 = -t49
    t77 = -t50
    t78 = -t51
    t79 = -t52
    t80 = -t53
    t81 = -t54
    t82 = ddq1*l1*l2*m3*t55
    t83 = ddq1*l1*l2*m4*t55
    t84 = ddq1*l1*l2*m5*t55
    t85 = ddq1*l1*l4*m5*t57
    t86 = ddq2*l2*l4*m5*t60
    t87 = ddq4*l2*l4*m5*t60
    t88 = ddq1*l1*lc2*m2*t55
    t89 = ddq1*l1*lc3*m3*t56
    t90 = ddq1*l1*lc4*m4*t57
    t91 = ddq2*l2*lc3*m3*t58
    t92 = ddq3*l2*lc3*m3*t58
    t93 = ddq1*l1*lc5*m5*t59
    t94 = ddq2*l2*lc4*m4*t60
    t95 = ddq4*l2*lc4*m4*t60
    t96 = ddq2*l2*lc5*m5*t61
    t97 = ddq5*l2*lc5*m5*t61
    t98 = ddq4*l4*lc5*m5*t62
    t99 = ddq5*l4*lc5*m5*t62
    t109 = l1*l2*m3*t11*t63
    t110 = l1*l2*m4*t11*t63
    t111 = l1*l2*m5*t11*t63
    t112 = l1*l4*m5*t11*t65
    t113 = l2*l4*m5*t12*t68
    t114 = l2*l4*m5*t14*t68
    t115 = l1*lc2*m2*t11*t63
    t116 = l1*lc3*m3*t11*t64
    t117 = l1*lc4*m4*t11*t65
    t118 = l2*lc3*m3*t12*t66
    t119 = l2*lc3*m3*t13*t66
    t120 = l1*lc5*m5*t11*t67
    t121 = l2*lc4*m4*t12*t68
    t122 = l2*lc4*m4*t14*t68
    t123 = l2*lc5*m5*t12*t69
    t124 = l2*lc5*m5*t15*t69
    t125 = l4*lc5*m5*t14*t70
    t126 = l4*lc5*m5*t15*t70
    t100 = -t82
    t101 = -t83
    t102 = -t84
    t103 = -t88
    t104 = -t89
    t105 = -t91
    t106 = -t92
    t107 = -t98
    t108 = -t99
    t127 = -t112
    t128 = -t113
    t129 = -t117
    t130 = -t119
    t131 = -t120
    t132 = -t121
    t133 = -t123
    t134 = -t126
    eq_systemDynamics = [T1+t27+t28+t29+t30+t31+t32+t33+t35+t36+t71+t72+t73+t74+t75+t76+t77+t78+t79+t80+t81+t85+t86+t87+t90+t93+t94+t95+t96+t97+t100+t101+t102+t103+t104+t105+t106+t107+t108+t109+t110+t111+t114+t115+t116+t118+t122+t124+t125+t127+t128+t129+t130+t131+t132+t133+t134-I1*ddq1-ddq1*m2*t16-ddq1*m3*t16-ddq1*m4*t16-ddq1*m5*t16-ddq1*lc1**2*m1+g*l1*m2*t2+g*l1*m3*t2+g*l1*m4*t2+g*l1*m5*t2+g*lc1*m1*t2-ddq2*l1*l2*m3*t55-ddq2*l1*l2*m4*t55-ddq2*l1*l2*m5*t55+ddq4*l1*l4*m5*t57-ddq2*l1*lc2*m2*t55-ddq3*l1*lc3*m3*t56+ddq4*l1*lc4*m4*t57+ddq5*l1*lc5*m5*t59-l1*l2*m3*t12*t63-l1*l2*m4*t12*t63-l1*l2*m5*t12*t63+l1*l4*m5*t14*t65-l1*lc2*m2*t12*t63-l1*lc3*m3*t13*t64+l1*lc4*m4*t14*t65+l1*lc5*m5*t15*t67,T2+t27+t28+t29+t30+t31+t32+t33+t35+t36+t71+t72+t73+t74+t75+t76+t77+t78+t79+t80+t81+t85+t86+t87+t90+t93+t94+t95+t96+t97+t100+t101+t102+t103+t104+t105+t106+t107+t108+t109+t110+t111+t114+t115+t116+t118+t122+t124+t125+t127+t128+t129+t130+t131+t132+t133+t134,T3+t28+t29+t30+t36+t71+t72+t73+t77+t79+t80+t81+t85+t86+t90+t93+t94+t96+t104+t105+t107+t108+t116+t118+t125+t127+t128+t129+t131+t132+t133+t134,T4+t29+t30+t71+t72+t73+t77+t80+t81+t85+t86+t90+t93+t94+t96+t107+t108+t125+t127+t128+t129+t131+t132+t133+t134,T5+t30+t73+t81+t93+t96+t107+t125+t131+t133]

    return eq_systemDynamics
